# 群聊信息管理插件配置文件

groupManager:
  # 消息保留天数
  retentionDays: 7

  # 艾特记录保留时间（小时）
  atRetentionHours: 24

  # AI 配置
  ai:
    # AI 提供商: claude / openai / qwen / other
    provider: 'claude'

    # API Key (请在 config/config/group-insight.yaml 中配置)
    apiKey: ''

    # 模型名称
    model: 'claude-haiku-4-5'

    # API Base URL (可选，用于自定义 API 端点)
    baseURL: ''

    # 超时时间（毫秒）
    timeout: 60000

    # 最大 Token 数
    maxTokens: 2000

    # 每次总结最多处理的消息数量
    maxMessages: 500

  # 词云配置
  wordCloud:
    # 最多显示词数
    maxWords: 100

    # 最短词长度
    minLength: 2

    # 最小词频
    minFrequency: 2

    # 画布尺寸（基础显示尺寸，实际渲染会应用 3x DPI）
    width: 1200
    height: 800

    # 背景颜色
    backgroundColor: '#ffffff'

    # 渲染质量配置
    render:
      # 图片格式：jpeg 或 png（png 无损但文件更大）
      imgType: 'png'
      # JPEG 质量（1-100，仅 jpeg 格式有效）
      quality: 100

  # 消息收集配置
  messageCollection:
    # 是否启用消息收集
    enabled: true

    # 是否收集图片
    collectImages: false

    # 是否收集表情
    collectFaces: false

    # 最大消息长度（超过将被截断）
    maxMessageLength: 500

  # 定时总结配置
  schedule:
    # 是否启用定时总结
    enabled: false

    # Cron 表达式（默认每小时整点）
    cron: '0 * * * *'

    # 白名单群列表（仅这些群会启用定时总结，为空则不启用）
    # 示例: ['123456789', '987654321']
    whitelist: []

  # 总结功能配置
  summary:
    # 是否将上次总结作为上下文输入给 AI
    includeContext: true

    # 总结保留天数（0 = 永久保存）
    retentionDays: 0

    # 渲染质量配置
    render:
      # 图片格式：jpeg 或 png（png 无损但文件更大）
      imgType: 'png'
      # JPEG 质量（1-100，仅 jpeg 格式有效）
      quality: 100
